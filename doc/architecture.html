<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="CLICK-UP">
    <meta name="author" content="Junxiao Wang">

    <title>CLICK-UP</title>

    <!-- Bootstrap Core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../css/stylish-portfolio.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <a id="menu-toggle" href="#" class="btn btn-dark btn-lg toggle"><i class="fa fa-bars"></i></a>
    <nav id="sidebar-wrapper">
        <ul class="sidebar-nav">
            <a id="menu-close" href="#" class="btn btn-light btn-lg pull-right toggle"><i class="fa fa-times"></i></a>
            <li class="sidebar-brand">
                <a href="#top" onclick=$("#menu-close").click();>Menu</a>
            </li>
            <li>
                <a href="../index.html" onclick=$("#menu-close").click();>Home</a>
            </li>
            <li>
                <a href="getstarted.html" onclick=$("#menu-close").click();>Get Started</a>
            </li>
            <li>
                <a href="index.html" onclick=$("#menu-close").click();>Introduction</a>
            </li>
            <li>
                <a href="motivation.html" onclick=$("#menu-close").click();>Motivation</a>
            </li>
            <li>
                <a href="#top" onclick=$("#menu-close").click();>Architecture</a>
            </li>
        </ul>
    </nav>

    <aside id="top" class="call-to-action bg-primary">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-left">
                    <h1><strong>CLICK-UP: Architecture</strong></h1>
                </div>
            </div>
        </div>
    </aside>

     <div class="container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 text-left">
                    <br>
                    <br>
                    <p class="lead">
                        <strong>Architecture Overview</strong>: As shown in the following figure, the framework of CLICK-UP is divided into the top-down three layers. The three layers collectively constitute the software upgrade of Click-driven stateful network elements. 

                    </p>
                    <p class="lead">
                        <center><img src="../pic/clickup_framework.png" width="50%" /></center>
                    </p>
                    <p class="lead">
                        In contrast with native processing, operators directly interact with the DAG orchestrator and formulate their required atom-based pipeline in a view of runtime library, getting ride of previous inefficient manual manners. During the alternative processing, all the dependency of essential modules are fully explored according to the determined service context in DAG pipeline. This can help in cutting down unnecessary overheads of module integration, and speed up the recovery from downtime as far as possible.
                    </p>
                    <p class="lead">
                        <center><img src="../pic/clickup_architecture.png" width="100%" /></center>
                    </p>
                    <p class="lead">
                        The reconstruction scheme for lost states is implemented by periodic synchronization between modules and persistent storage, which respectively locates at kernel space and user space. With recovery bootstrap integrated inside all the modules, the states can thus be recaptured after upgrade.
                    </p>
                    <p class="lead">
                        <strong>Workflow</strong>: The procedures for CLICK-UP to handle a software upgrade of Click-driven stateful network elements are shown as arrow direction in the above figure: 
                    </p>
                    <ul class="lead">
                        <li>
                            (1) the dashboard exposes DAG orchestrator to operators, allowing operators to define their upgrade needs as a DAG. The DAG is based on well-known semantics and consists of a series of pipeline processing related atom functionalities as well their required service states.
                        </li>
                        <li>
                            (2) the DAG should be parsed to a set of Click modules (called elements), and its new state collection is integrated into corresponding modules. All the modules have a state synchronization mechanism and a state reconstruction bootstrap.
                        </li>
                        <li>
                            (3) the modules are complied, built into kernel space, and the persistent storage in user space is initialized with new version number, meanwhile sending back former version related states.
                        </li>
                        <li>
                            (4) the new configuration is created and upgraded network element is reboot from downtime with former service states fulfilled by a recovery bootstrap.
                        </li>        
                    </ul>
                    <p class="lead">
                        <center><img src="../pic/states.png" width="55%" /></center>
                    </p>
                    <p class="lead">
                        <strong>Atom-based Orchestration</strong>: As shown in the above figure, the DAG orchestration of CLICK-UP is based on a series of core functionalities called atom functionalities, e.g. packet parsing, payload modification, and the like, each of which with well-known semantics. Operators can thus represent their upgrade needs as a DAG with stateful or stateless atoms linked. Via exploring all the dependency of essential modules, runtime library will parse the atom-based graph to a module-based graph that has identical service contexts and pipeline functionalities. This realizes an unified interface for operators, at the same time provides the compatibility between CLICK-UP and other Click-driven techniques that based on module-style graph. Moreover, since the orchestration sticks religiously to the service context, thus a series of functionality-neutral modules won’t shipped with essential modules any more, significantly reducing the integration time.
                    </p>
                    <p class="lead">
                        <center><img src="../pic/states_2.png" width="55%" /></center>
                    </p>
                    <p class="lead">
                        <strong>Runtime Library</strong>: As shown in the above figure, the runtime library of CLICK-UP consists of a set of interfaces exposed to the orchestration. They specify available atom functionalities as well the mapping between atoms and module category. These interfaces also provide a state management toolset to deal with the state synchronization and the reconstruction bootstrap. Through top-down integration, all the modules of upgraded network elements can thus recover from downtime in an agile manner and take back their service states correctly. Developers can also enlarge current library stack in scalability by implementing new interfaces for new atoms or states, in order to handle the cases that atom-based graph doesn’t fit comfortably within upgrade needs’ range.
                </div>
            </div>
        </div>



    <!-- Footer -->
    <footer>
        <a id="to-top" href="#top" class="btn btn-dark btn-lg"><i class="fa fa-chevron-up fa-fw fa-1x"></i></a>
    </footer>

    <aside id="top" class="call-to-action bg-info">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-left">
                    <h2><a href="motivation.html">Go-to Last Section: Motivation</a>&nbsp;&nbsp;&nbsp;&nbsp;
                    </h2> 
                </div>
            </div>
        </div>
    </aside>

    <!-- jQuery -->
    <script src="../js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script>
    // Closes the sidebar menu
    $("#menu-close").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
    // Opens the sidebar menu
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
    // Scrolls to the selected menu item on the page
    $(function() {
        $('a[href*=#]:not([href=#],[data-toggle],[data-target],[data-slide])').click(function() {
            if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });
    //#to-top button appears after scrolling
    var fixed = false;
    $(document).scroll(function() {
        if ($(this).scrollTop() > 250) {
            if (!fixed) {
                fixed = true;
                // $('#to-top').css({position:'fixed', display:'block'});
                $('#to-top').show("slow", function() {
                    $('#to-top').css({
                        position: 'fixed',
                        display: 'block'
                    });
                });
            }
        } else {
            if (fixed) {
                fixed = false;
                $('#to-top').hide("slow", function() {
                    $('#to-top').css({
                        display: 'none'
                    });
                });
            }
        }
    });
    // Disable Google Maps scrolling
    // See http://stackoverflow.com/a/25904582/1607849
    // Disable scroll zooming and bind back the click event
    var onMapMouseleaveHandler = function(event) {
        var that = $(this);
        that.on('click', onMapClickHandler);
        that.off('mouseleave', onMapMouseleaveHandler);
        that.find('iframe').css("pointer-events", "none");
    }
    var onMapClickHandler = function(event) {
            var that = $(this);
            // Disable the click handler until the user leaves the map area
            that.off('click', onMapClickHandler);
            // Enable scrolling zoom
            that.find('iframe').css("pointer-events", "auto");
            // Handle the mouse leave event
            that.on('mouseleave', onMapMouseleaveHandler);
        }
        // Enable map zooming with mouse scroll when the user clicks the map
    $('.map').on('click', onMapClickHandler);
    </script>

</body>

</html>
